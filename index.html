<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <script>
    var counter = (function () {
      var value = 0;
      var listeners = [];

      var notify = function () {
        listeners.forEach(function (listener) {
          listener(value);
        })
      };

      var increase = function () {
        value = value + 1;
        notify();
      };

      var decrease = function () {
        value = value - 1;
        notify();
      };

      var currentValue = function () {
        return value;
      };

      var addListener = function (listener) {
        listeners.push(listener);
      };

      return {
        increase: increase,
        decrease: decrease,
        currentValue: currentValue,
        addListener: addListener
      };

    })();

    counter.addListener(function (value) {
      if (value > 0) {
        console.log('we are in the green');
      }
      if (value < 0) {
        console.log('we are in the red');
      }
    });

    counter.increase();
    counter.decrease();
    counter.decrease();
  </script>
</head>
<body>
</body>
</html>